<nav class="bg-blue-700 px-4 py-3 shadow-lg">
  <div class="max-w-7xl mx-auto flex items-center justify-between">
    <!-- Logo and Brand -->
    <div class="flex items-center space-x-3">
      <a href="/" class="flex items-center space-x-2">
        <i class="fas fa-hotel text-2xl text-yellow-300"></i>
        <span class="text-2xl font-extrabold tracking-tight text-white">ROOMLY</span>
      </a>
    </div>
    <!-- Search Bar -->
    <div class="flex-1 mx-6 hidden md:flex">
      <form action="/search" method="GET" class="w-full flex">
        <input
          type="text"
          name="q"
          placeholder="Search homes, locations..."
          class="w-full px-4 py-2 rounded-l-md border-none focus:ring-2 focus:ring-blue-400 outline-none"
        />
        <button type="submit" class="bg-yellow-400 hover:bg-yellow-500 px-4 py-2 rounded-r-md text-blue-900 font-bold transition">
          <i class="fas fa-search"></i>
        </button>
      </form>
    </div>
    <!-- Nav Links & Profile -->
    <div class="flex items-center space-x-4">
      <!-- Desktop Nav -->
      <div id="nav-menu" class="hidden md:flex md:items-center space-x-4 transition-all duration-300">
        <a href="/" class="flex items-center px-3 py-2 rounded-md text-white hover:bg-blue-600 transition">
          <i class="fas fa-home mr-2"></i> Home
        </a>
        <% if(isLoggedIn) { %>
          <a href="/host/add-home" class="flex items-center px-3 py-2 rounded-md text-white hover:bg-blue-600 transition">
            <i class="fas fa-plus-circle mr-2"></i> Add Home
          </a>
          <a href="/favourite" class="flex items-center px-3 py-2 rounded-md text-white hover:bg-blue-600 transition">
            <i class="fas fa-heart mr-2"></i> Favourite
          </a>
          <a href="/booking" class="flex items-center px-3 py-2 rounded-md text-white hover:bg-blue-600 transition">
            <i class="fas fa-calendar-check mr-2"></i> Bookings
          </a>
          <a href="/host/host-home" class="flex items-center px-3 py-2 rounded-md text-white hover:bg-blue-600 transition">
            <i class="fas fa-user-shield mr-2"></i> Host Home
          </a>
        <% } %>
        <% if(!isLoggedIn) { %>
          <a href="/login" class="flex items-center px-3 py-2 rounded-md text-white hover:bg-blue-600 transition">
            <i class="fas fa-sign-in-alt mr-2"></i> Login
          </a>
          <a href="/signUp" class="flex items-center px-3 py-2 rounded-md text-white hover:bg-blue-600 transition">
            <i class="fas fa-user-plus mr-2"></i> SignUp
          </a>
        <% } else { %>
          <form action="/logout" method="POST" class="inline">
            <button 
              type="submit" 
              class="flex items-center px-3 py-2 bg-red-500 text-white rounded-md hover:bg-red-600 transition-colors font-semibold"
            >
              <i class="fas fa-sign-out-alt mr-2"></i> Logout
            </button>
          </form>
        <% } %>
      </div>
      <!-- Profile Icon -->
      <a href="/profile" class="flex items-center justify-center w-10 h-10 rounded-full bg-blue-600 hover:bg-blue-800 transition">
        <i class="fas fa-user text-white text-xl"></i>
      </a>
      <!-- Hamburger for mobile -->
      <div class="md:hidden">
        <button id="nav-toggle" class="text-white focus:outline-none text-2xl">
          <i class="fas fa-bars"></i>
        </button>
      </div>
    </div>
  </div>
  <!-- Mobile Search Bar -->
  <div class="md:hidden px-4 mt-2">
    <form action="/search" method="GET" class="flex">
      <input
        type="text"
        name="q"
        placeholder="Search homes, locations..."
        class="w-full px-4 py-2 rounded-l-md border-none focus:ring-2 focus:ring-blue-400 outline-none"
      />
      <button type="submit" class="bg-yellow-400 hover:bg-yellow-500 px-4 py-2 rounded-r-md text-blue-900 font-bold transition">
        <i class="fas fa-search"></i>
      </button>
    </form>
  </div>
  <!-- Mobile Menu -->
  <div id="mobile-menu" class="md:hidden hidden px-2 pt-2 pb-3 space-y-1 bg-blue-700">
    <a href="/" class="flex items-center px-3 py-2 rounded-md text-white hover:bg-blue-600 transition">
      <i class="fas fa-home mr-2"></i> Home
    </a>
    <% if(isLoggedIn) { %>
      <a href="/host/add-home" class="flex items-center px-3 py-2 rounded-md text-white hover:bg-blue-600 transition">
        <i class="fas fa-plus-circle mr-2"></i> Add Home
      </a>
      <a href="/favourite" class="flex items-center px-3 py-2 rounded-md text-white hover:bg-blue-600 transition">
        <i class="fas fa-heart mr-2"></i> Favourite
      </a>
      <a href="/booking" class="flex items-center px-3 py-2 rounded-md text-white hover:bg-blue-600 transition">
        <i class="fas fa-calendar-check mr-2"></i> Bookings
      </a>
      <a href="/host/host-home" class="flex items-center px-3 py-2 rounded-md text-white hover:bg-blue-600 transition">
        <i class="fas fa-user-shield mr-2"></i> Host Home
      </a>
      <a href="/profile" class="flex items-center px-3 py-2 rounded-md text-white hover:bg-blue-600 transition">
        <i class="fas fa-user mr-2"></i> Profile
      </a>
    <% } %>
    <% if(!isLoggedIn) { %>
      <a href="/login" class="flex items-center px-3 py-2 rounded-md text-white hover:bg-blue-600 transition">
        <i class="fas fa-sign-in-alt mr-2"></i> Login
      </a>
      <a href="/signUp" class="flex items-center px-3 py-2 rounded-md text-white hover:bg-blue-600 transition">
        <i class="fas fa-user-plus mr-2"></i> SignUp
      </a>
    <% } else { %>
      <form action="/logout" method="POST" class="inline">
        <button 
          type="submit" 
          class="flex items-center px-3 py-2 bg-red-500 text-white rounded-md hover:bg-red-600 transition-colors font-semibold w-full"
        >
          <i class="fas fa-sign-out-alt mr-2"></i> Logout
        </button>
      </form>
    <% } %>
  </div>
  <script>
    // Toggle mobile menu
    const navToggle = document.getElementById('nav-toggle');
    const mobileMenu = document.getElementById('mobile-menu');
    navToggle && navToggle.addEventListener('click', () => {
      mobileMenu.classList.toggle('hidden');
    });
    // Hide mobile menu on resize
    window.addEventListener('resize', () => {
      if(window.innerWidth >= 768) {
        mobileMenu.classList.add('hidden');
      }
    });
  </script>
</nav>
